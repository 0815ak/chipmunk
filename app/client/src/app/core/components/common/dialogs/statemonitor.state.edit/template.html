<div class="settings">
    <div class="settings-section">
        <p class="settings-title">State's preview</p>
        <div class="preview">
            <div [attr.class]="'indicate ' + _css">
                <span class="name">{{indicate.name}}</span>
                <span [attr.class]="'icon ' + _icon" [style.color]="_color"></span>
                <span class="label">{{_label}}</span>
            </div>
        </div>
    </div>
    <div class="settings-section">
        <p class="settings-title">Basic settings of state</p>
        <table>
            <tr>
                <td>
                    <p class="field-name">Icon & Colors</p>
                    <p class="field-description">Select an icon for state and color</p>
                </td>
                <td>
                    <div class="icon-colors-wrapper">
                        <div class="colors-wrapper">
                            <colors-canvas-dialog [callback]="onColorChange"></colors-canvas-dialog>
                        </div>
                        <div class="icon-wrapper">
                            <span [attr.class]="'icon ' + _icon" [style.color]="_color" (click)="onIconChange()"></span>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="field-name">Label</p>
                    <p class="field-description">This label will be shown bellow icon</p>
                </td>
                <td>
                    <div class="settings-controll-wrapper">
                        <common-input [placeholder]="'Label of the state'" [type]="'text'" [value]="state.label" [handles]="{ onChange : onLabelChange }"></common-input>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="field-name">Hook</p>
                    <p class="field-description">Define here text, which will be a trigger to activate this state. If in logs will be found defined hook - state will be activated</p>
                </td>
                <td>
                    <div class="settings-controll-wrapper">
                        <common-input [placeholder]="'Hook of the state'" [type]="'text'" [value]="state.hook" [handles]="{ onChange : onHookChange }"></common-input>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="field-name">Effect</p>
                    <p class="field-description">Here you can select visual effect for icon</p>
                </td>
                <td>
                    <div class="settings-controll-wrapper">
                        <simple-dd-list [items]="_effects" [onChange]="onChangeEffect" [defaults]="_css"></simple-dd-list>
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <div class="settings-section">
        <p class="settings-title">Advanced settings of state</p>
        <table>
            <tr>
                <td>
                    <p class="field-name">Reset all</p>
                    <p class="field-description">Reset all indicates to defaults states</p>
                </td>
                <td>
                    <div class="settings-controll-wrapper reset-checkbox">
                        <simple-checkbox [on]="'reset'" [off]="'do not reset'" [onChange]="onResetChange" [checked]="_reset"></simple-checkbox>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <p class="field-name">Reset timeout</p>
                    <p class="field-description">Reset this states to default after timeout</p>
                </td>
                <td>
                    <div class="settings-controll-wrapper">
                        <common-input [placeholder]="'Timeout in ms. or empty to do not reset'" [type]="'number'" [value]="_itSelfResetTimeout" [handles]="{ onChange: onItSelfResetTimeout}"></common-input>
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="buttons">
    <button-flat-text [caption]="'Save'" [handle]="onSave"></button-flat-text>
    <button-flat-text [caption]="'Cancel'" [handle]="onCancel"></button-flat-text>
</div>
